<!DOCTYPE html>
<html>
<head>
    <title>Fire Cluster Story</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/5/w3.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="style.css">
    <script type="module" src="main.js"></script>
    <style>
    body,h1,h2,h3,h4,h5,h6 {font-family: "Lato", sans-serif;}
    body, html {
    height: 100%;
    color: #777;
    line-height: 1.8;
    }

    /* Create a Parallax Effect */
    .bgimg-1, .bgimg-2, .bgimg-3 {
    background-attachment: fixed;
    background-position: center;
    background-repeat: no-repeat;
    background-size: cover;
    }

    /* First image (Logo. Full height) */
    .bgimg-1 {
    background-image: url("images/intro_banner.jpg");
    min-height: 100%;
    }

    /* Second image (Portfolio) */
    .bgimg-2 {
    background-image: url("images/intro_banner.jpg");
    min-height: 400px;
    }

    /* Third image (Contact) */
    .bgimg-3 {
    background-image: url("images/intro_banner.jpg");
    min-height: 400px;
    }

    .w3-wide {letter-spacing: 10px;}
    .w3-hover-opacity {cursor: pointer;}

    /* Turn off parallax scrolling for tablets and phones */
    @media only screen and (max-device-width: 1600px) {
    .bgimg-1, .bgimg-2, .bgimg-3 {
        background-attachment: scroll;
        min-height: 400px;
    }
    }
    </style>
</head>
<body>

<!-- NAVBAR (SITS ON TOP) -->
<div class="w3-top">
    <div class="w3-bar w3-light-grey w3-card" id="pcNavbar">
        <a class="w3-bar-item w3-button w3-hover-black w3-hide-medium w3-hide-large w3-right" href="javascript:void(0);" onclick="toggleFunction()" title="Toggle Navigation Menu">
            <i class="fa fa-bars"></i>
        </a>
        <a href="#home" class="w3-bar-item w3-button">HOME</a>
        <a href="#map-section" class="w3-bar-item w3-button w3-hide-small"><i class="fa fa-map"></i> MAP</a>
        <a href="#model-section" class="w3-bar-item w3-button w3-hide-small"><i class="fa fa-laptop"></i> MODEL</a>
        <a href="#credits" class="w3-bar-item w3-button w3-hide-small"><i class="fa fa-user"></i> CREDITS</a>
    </div>

    <!-- NAVBAR ON SMALL SCREENS -->
    <div id="mobileNavbar" class="w3-bar-block w3-light-grey w3-hide w3-hide-large w3-hide-medium">
        <a href="#map-section" class="w3-bar-item w3-button" onclick="toggleFunction()">MAP</a>
        <a href="#model-section" class="w3-bar-item w3-button" onclick="toggleFunction()">MODEL</a>
        <a href="#credits" class="w3-bar-item w3-button" onclick="toggleFunction()">CREDITS</a>
    </div>
</div>

<!-- BANNER -->
<div class="bgimg-1 w3-display-container w3-opacity-min" id="home">
    <div class="w3-display-middle title-box" style="white-space:nowrap; text-align:center;">
        
        <!-- MOBILE -->
        <div class="title-multiline">
            <span class="title-item">THE BURNING</span><br>
            <span class="title-item">FATE</span><br>
            <span class="title-item">OF CALIFORNIA</span>
        </div>

        <!-- DESKTOP -->
        <div class="title-single">
            <span class="title-item">THE BURNING FATE OF CALIFORNIA</span>
        </div>

    </div>
</div>


<!-- ABSTRACT SECTION -->
<div class="w3-content w3-container w3-padding-64" id="introduction">

    <h3 class="w3-center fade-in">ABSTRACT</h3>
    <p class="w3-center fade-in"><em>How good is your intuition?</em></p>
    <p class="fade-in">
        Over the past decade, California has experienced 9 of the 10 largest fires in its recorded history, with more than 11 million acres burned since 2010 <sup><a href="https://www.fire.ca.gov/our-impact/statistics" target="_blank" style="color: steelblue;">1</a></sup>. 
        These fires led to billions in damages, long-term ecological loss, and several air-quality emergencies that affect millions of residents. 
        One wildfire, or rather tragedy, that you should be familiar with is the Palisades Fire. 
        It better known as the series of January 2025 wildfires that ravaged Los Angeles. 
        Firefighters quite literally ran out of water to put out these fires. 
        <b>Entire neighborhoods were ERASED OVERNIGHT.
        Over 525K acres were burned, 16.5K structures destroyed, and 31 fatalities were recorded. 
        Lives, families, homes, businesses, and wildlife were engulfed in these death flames <sup><a href="https://www.fire.ca.gov/incidents/2025" target="_blank" style="color: steelblue;">2</a></sup>. </b>
        We personally knew some friends and families who had to be evacuated to escape this disaster, because the smoke was unbreathable.
        As climate change leads to longer and dryer seasons, wildfire frequency and intensity are expected to continue skyrocketing across the state<sup><a href="https://www.drought.gov/news/study-finds-climate-change-blame-record-breaking-california-wildfires-2023-08-08" target="_blank" style="color: steelblue;">3</a></sup>.
    </p>
    
    <p class="w3-center fade-in" style="color:red;">
        <b>This is unacceptable.</b> 
    </p>
    <p class="fade-in">
        Because of this, <b>understanding WHERE wildfires tend to occur has become more important than ever</b>.
        Fortunately, we have access to decades of historical wildfire data <sup><a href="https://firms.modaps.eosdis.nasa.gov/country/" target="_blank" style="color: steelblue;">4</a></sup>. 
        We plan to apporach this problem by first analyzing county-level patterns to train machine-learning models that will predict future breakout locations.
        This knowledge will hopefully serve as a baseline to be further expanded on. 
        In turn, this should assist in California policymaking, resource allocations, hazard prevention, evacuation efforts, and many, many more forms aid that will ultimately protect Californians from this increasingly dangerous reality. 
    </p>
    <div class="w3-row fade-in">
        <div class="w3-col m6 w3-center w3-padding-large">
        <img src="images/every_fire.png" class="w3-round w3-image w3-opacity" alt="INTRO PICTURE" width="500" height="333">
        <p><b><i class="fa fa-user w3-margin-right"></i>A map of California wildfires from 2014-2024.</b></p><br>
        </div>

        <div class="w3-col m6 w3-padding-large fade-in">
            <p>
                <b>But before we dive into prediction, there's something important to understand: <p class="fade-in w3-center" style="color:red;">our intution about wildfires are often wrong.</p></b>
                Take a look at this map of California that shows every confirmed wildfire that's recorded from 2014 to 2024. 
                When we saw this map the first time, we tried identifying some emerging patterns at a first glance. 
                "Dense clutters appear along the Sierra Nevada boundary, the northern forests, and parts of Southern California, whereas other regions are more sparse. 
                At the county level, regions like Shasta, Butte, and Los Angeles consistently appear among the most fire-prone areas, while regions along the Central Valley floor or coastal corridors see far fewer breakouts."
                However, this was simply OUR intution at a first glance. Is that all that is there to be seen with just a first glance? Of course not. 
                <b>In order to truly grasp which areas need aid the most, we need to approach this with hard data.</b> 
            </p>
            <div id="human-caused-question" class="fade-in" style="text-align: center;">
                <label for="humanSelect" style="text-align:center; color:#C52233;"><strong>FUN FACT: What percentage of wildfires do you think were caused by humans?</strong></label>
                <div class="options">
                    <button class="option-btn" data-answer="30">30%</button>
                    <button class="option-btn" data-answer="50">50%</button>
                    <button class="option-btn" data-answer="70">70%</button>
                    <button class="option-btn" data-answer="90">90%</button>
                </div>
                <div id="humanAnswer" style="text-align:center;"></div>
            </div>
        </div>
    </div>

    <p class="fade-in">
        <b>Intuition alone can be misleading.
        Patterns that look obvious at first glance might hide deeper trends.
        To prove our point, let's test YOUR intution before we see the real data.</b>
        We designed an interactive visualization that shows a timelapse of California wildfires to help illustrate the severity of California wildfires.
        The interactive visualization is a map that animates every recorded wildfire in California from 2014 to 2024.
        You can visualize how fire activity shifts over time, where clusters tend to build up, which regions get hit repeatedly, and how fast these fires accumulate over the years.
        Before watching the timelapse, make a prediction:
        <b>Which California county do you believe will have the most wildfires by the end of the decade?</b>
        Your choice reflects the current human mental model of wildfire behavior.
        <b>Try basing your prediction based on what you know so far. Have you heard anything from the news recently? Read any articles?</b>
        After the animation finishes, you'll see how your intuition compares to the data, and how quickly wildfire activity actually escalates over time.
    </p>

    <p class="w3-center fade-in" style="color:red;">
        <b>This isn't just a guessing challenge.<br>
        It's a grim reminder that the pace and spread of wildfires often exceed what we expect, and why DATA-DRIVEN PREDICTION MODELS are becoming essential for protecting communities across California.</b> 
    </p>

</div>



<!-- SECOND BANNER -->
<div class="bgimg-2 w3-display-container w3-opacity-min" id="map-section">
    <div class="w3-display-middle">
        <span class="w3-xxlarge w3-text-white w3-wide">MAP</span>
    </div>
</div>

<!-- MAP SECTION -->
<div class="w3-content w3-container w3-padding-64" id="map">
    <h3 class="w3-center fade-in">CALIFORNIA TIMELAPSE</h3><br>

    <p class="w3-center fade-in">INSTRUCTIONS</p>
    <p id="instructions" class="w3-left-align fade-in" style="max-width: 850px; margin: auto;">
        1. <b>üó∫Ô∏è Hover over the map</b> to view county names.<br>
        2. <b>ü§î Choose a county</b> that you think will have the most wildfires from 2014‚Äì2024.<br>
        3. <b>‚è±Ô∏è Use the time slider</b> to explore wildfires on any specific date.<br>
        4. <b>‚èØÔ∏è Press the play button</b> to animate cumulative wildfire activity over time.<br>
        5. <b>üéöÔ∏è Adjust the playback speed</b> with the speed control.<br>
        6. <b>ü§Ø Watch the bar chart update</b> below to discover which county accumulated the most wildfires!<br>
        7. <b>ü§î Feel free to reselect</b> other counties as the timelapse plays to refine your prediction. Just follow your intuition!<br>
        </p>

    <h4 id="mapTitle" class="w3-center fade-in"><br>MAP OF CALIFORNIA</h4><br>
    
    <div id="mapContainer" class="map-container fade-in">
        <svg id="mapSvg"></svg>
        <canvas id="fireCanvas"></canvas>
    </div>

    <div id="tooltip"></div>

    <div id="controls" class="fade-in">
        <div id="dateSelector">
            <div class="date-row">
                <label for="dateSlider"><strong>Select Date üìÖ</strong></label>
                <span id="dateLabel"></span>
            </div>

            <input type="range" id="dateSlider">
            <div class="play-row">
                <button id="playButton" class="w3-round w3-button w3-light-grey">‚ñ∂ Play</button>
                <button id="speedButton" class="w3-round w3-button w3-light-grey">‚ñ∂‚ñ∂‚ñ∂ Fast</button>
            </div>
        </div>

    </div>

    <div id="warning" class="fade-in" style="text-align: center; font-weight:bold; color:red;">‚ö†Ô∏è It is recommended to scroll back up to the previous section and select a county prediction before pressing play! ‚ö†Ô∏è</div>
    <div id="answer" class="fade-in" style="text-align: center;"></div>
    <div id="stats" class="fade-in"></div>

    <p class="w3-center fade-in">
        Once you've completed the game, take a moment to reflect on the results.
        Were you suprised by which county had the most wildfires?
        Most people are. Most guesses based on pure intuition were wrong. Our intuition simply cannot keep up with the true scale and speed of wildfire activity in California.
    </p>

    <p class="w3-center fade-in" style="color:red;">
        <b>
            But why should we care? Remember:<br>
            Every bar in this chart represents burned land, destroyed homes, displaced families, and ecosystems trying to recover.<br>
            Each of these dots you see is a wildfire that has the potential to ruin human lives.<br>
            What seemed like not much at the start quickly ramped up as the years went by.<br>
            This visualization will only get more disgustingly larger in the future, and thus it is our job to be as accurate as possible to minimize the impact of these wildfires.
        </b> 
    </p>

</div>




<!-- THIRD BANNER -->
<div class="bgimg-3 w3-display-container w3-opacity-min" id="model-section">
    <div class="w3-display-middle">
        <span class="w3-xxlarge w3-text-white w3-wide">MODEL</span>
    </div>
</div>

<!-- MODEL SECTION -->
<div class="w3-content w3-container w3-padding-64" id="model">

    <p class="w3-center fade-in">
        After seeing how unpredictable and fast-moving wildfire activity can be, the real question becomes:<br><br>
        <b>Can we do better than intuition? Of course! This is where machine learning comes in.</b><br><br>
        Using historical wildfire records and county-level fire patterns, 
        we can start by training basic machine-learning models to estimate the likelihood of at least one wildfire occurring at a specific County on any given day in California.
        <b>The goal is to evolve beyond mere human judgment. This will help give firefighters, policymakers, and communities more information to make better judgements.</b><br><br>
    </p>

    <h3 class="w3-center fade-in">PROTOTYPE MODEL</h3>
    <p class="w3-center fade-in"><em>Coordinates ‚Üí Fire Probability</em></p>

    <div id="prototype-model" class="w3-row w3-padding-32 w3-section fade-in">

        <div class="w3-center w3-container">
        <img src="images/baseline_model.jpg" class="w3-round w3-image w3-opacity fade-in" style="width:75%">
        </div>

        <p class="w3-center fade-in">Here, our prototype "model" (not really) takes in the input coordinates, rounds them, and returns the historical percentage of wildfires that occured at those exact coordinates
            during the timeframe of our entire dataset. Later, we decided to scrap the direction of this idea, and try something different.</p>

    </div>


    <h3 class="w3-center fade-in">MODEL</h3>
    <p class="w3-center fade-in"><em>County + Date ‚Üí Fire Prediction</em></p>

    <div id="model" class="w3-row w3-padding-32 w3-section fade-in">

        <div class="w3-center w3-container">
        <img src="images/model_outline.png" class="w3-round w3-image fade-in" style="width:75%">
        </div>

        <p class="w3-center fade-in">
            Here, our model is trying to predict a binary output (True/False) whether or not at least one fire will occur on a given county and date.
            Our model takes two inputs. The first is an integer that represents a county. The second is a date that is split into 3 distinct features (year, month, day).
            These four features are combined into a feature vector. We have a list of y values that are either True or False. Our y values represent whether a county on a given date actually had one or more fires that day.
            We used logistic regression with the Python module statsmodel, to get a decimal value.
            We evaluated this decimal value to be above or below a threshold we set while we were tuning hyperparameters, which is 0.018.
            Above means True, below means False. We then compared those predicted y values to the actual y values to evaluate our accuracy.
        </p>

        <div class="w3-center w3-container">
        <img src="images/model1.png" class="w3-round w3-image fade-in" style="width:75%">
        </div>

        <p class="w3-center fade-in">
            First, we combined two json files. The first json file had a list of vectors of 0s and 1s.
            Each vector had a length of 58, representing the amount of counties. The order is important. Each 0 represents a fire was not present in that county, and 1 represents a fire was present.
            The number of vectors represent how many unique dates was recorded by the MODIS satellite in our 10 year dataset.
            The second json file was a simple list of all 58 County names, in order according to the other json file. The previous dataset was not named.
            We combined these two json files to create a dataframe, which allowed us to see the binary fires with the County names.
        </p>

        <div class="w3-center w3-container">
        <img src="images/model2.png" class="w3-round w3-image fade-in" style="width:75%">
        </div>

        <p class="w3-center fade-in">
            Next, we transposed the dataframe to make it easier to process later on.
            We took the date column, and extracted the year, month, and date from each element. This is to make more features for the model to train with.
            We combined those features into the transposed dataframe.
        </p>

        <div class="w3-center w3-container">
        <img src="images/model3.png" class="w3-round w3-image fade-in" style="width:75%">
        </div>

        <p class="w3-center fade-in">
            Let us now call this combined dataframe as feature_df.
        </p>

        <div class="w3-center w3-container">
        <img src="images/model4.png" class="w3-round w3-image fade-in" style="width:75%">
        </div>

        <p class="w3-center fade-in">
            Meanwhile, we took feature_df, and created a new vector of booleans. This is to get our actual y values, since we are predicting whether a fire has occured at a County on a specific date.
            We iterated through the feature_df in this order: (Date1, CountyA), (Date2, CountyA), ..., (Date1, CountyB), ..., (Date_n-1, CountyN), (Date_n, CountyN).
            Our new vector has a length of the number of dates times the number of Counties.
        </p>

        <div class="w3-center w3-container">
        <img src="images/model5.png" class="w3-round w3-image fade-in" style="width:75%">
        </div>

        <p class="w3-center fade-in">
            In order to incorporate our new y value vector, we had to reshape the dataframe to match the length.
            Instead of having 58 columns as counties, we condensed it into a single column within feature_df, assigned integers representing each county,
            and numbered them on that new column.
            This allowed us to combine the reshaped feature_df and y value vector easily. 
        </p>

        <div class="w3-center w3-container">
        <img src="images/model6.png" class="w3-round w3-image fade-in" style="width:75%">
        </div>

        <p class="w3-center fade-in">
            Now, we finally have our X matrix and y vector.
            We split this into a train/test split, and prepared to train the model.
        </p>

        <div class="w3-center w3-container">
        <img src="images/model7.png" class="w3-round w3-image fade-in" style="width:75%">
        </div>

        <p class="w3-center fade-in">
            We used X train and y train to fit our logistic regression model.
            Then we passed X_test through our model, and processed the decimal outputs through a threshold of 0.018.
            This allowed us to make our y predicted outputs as booleans.
        </p>
        
        <div class="w3-center w3-container">
        <img src="images/model8.png" class="w3-round w3-image fade-in" style="width:75%">
        </div>

        <p class="w3-center fade-in">
            Finally, we compared our actual y values to our predicted y values.
            We evaluated our accuracy based on the amount of True Positives and True Negatives over the total number of predictions.
            Ultimately however, we did sacrifice some accuracy to get less False Negatives, 
            because we would rather not be preparred for a fire that never broke out, versus being unpreparred for a fire that is about to break.
        </p>

    </div>
        

    <h3 class="w3-center fade-in">TAKEAWAYS</h3>
    <p class="w3-center fade-in">
        Wildfires are not just natural events.
        They are accelerating, intensifying, and reshaping lives for the worse across California. 
        Over the past decade, we have now seen how quickly small sparks can become statewide emergencies, and how entire regions have become more vulnerable than ever before.<br><br>
        <b>Through the visualizations, we learned that our intuition alone is not enough to understand the scale of the problem.</b> 
        Patterns that seem obvious at first glance hide deeper trends, and even experienced observers often underestimate how and where fire activity builds from year to year.<br><br>
        That is why modeling matters.<br><br>
        Of course, our prototype machine learning models are not magical foolproof predictors, but it is an important step towards proactively condemning California wildfires. 
        If we can begin to estimate the likelihood of future wildfires, we can give communities, firefighters, 
        and policymakers critical information they can use to prepare, allocate resources, and act early.<br><br>
        <b>Our model can be greatly improved upon. This is just a baseline of where to start, and we hope this inspires you to take action.</b> 
        For more information, check out our <a href="https://github.com/j2doan/firecluster_story" target="_blank" style="color: steelblue;">github repo</a>.
        California's wildfire crisis will continue to evolve, but so will our tools, our understanding, and our ability to respond.
        With better modeling, better data, and better preparation, we can build a future where fewer California communities become ruined by these devastations.
    </p>

    <p class="w3-center fade-in" style="color:red;">
        <b>
            California wildfires are a massive problem and our assumptions about them are usually inaccurate.<br>
            But luckily, we have the power of machine learning.<br>
            Therefore we can use this to save lives.
        </b> 
    </p>
    
</div>




<!-- FOOTER -->
<footer class="w3-center w3-black w3-padding-64 w3-opacity" id="credits">
    <a href="#home" class="w3-button w3-light-grey"><i class="fa fa-arrow-up w3-margin-right"></i>Back to top</a>
    <p>Authors</p>
    <p>Jacob Doan, Dylan Berry, Vanessa Feng</p>
</footer>

<script>
    // Modal Image Gallery
    function onClick(element) {
    document.getElementById("img01").src = element.src;
    document.getElementById("modal01").style.display = "block";
    var captionText = document.getElementById("caption");
    captionText.innerHTML = element.alt;
    }

    // Used to toggle the menu on small screens when clicking on the menu button
    function toggleFunction() {
        var x = document.getElementById("mobileNavbar");
        if (x.className.indexOf("w3-show") == -1) {
            x.className += " w3-show";
        } else {
            x.className = x.className.replace(" w3-show", "");
        }
    }
</script>

</body>
</html>
